import{_ as O,J as z,a as A}from"./JobResultLayout-076073e6.js";import{d as x,r as v,i as S,b as s,x as f,A as m,f as e,t as d,e as c,F as y,v as j,g as J,k,y as $,C as I,s as R,j as h,O as N,J as w,c as V,P as q,K as B,G as E}from"./index-c9d37479.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-035307f1.js";const F={class:"text-2xl"},P={class:"text-brand-blue-1 mt-2 text-lg"},H={class:"mt-2"},U={key:0},G=x({__name:"JobRelatedSidebarCard",props:{job:{type:Object,required:!0}},emits:["update:job"],setup(a,{emit:u}){const l=a,n=l.job.locations.length,_=+l.job.id,t=v(null);return(p,b)=>{const r=S("router-link");return s(),f(r,{to:`/jobs/results/${_}`,class:"my-6 p-5 block rounded border border-solid border-brand-gray-3 hover:border-brand-blue-1 hover:bg-black/[0.05]"},{default:m(()=>[e("div",{ref_key:"cardRef",ref:t},[e("h2",F,d(a.job.title),1),e("h2",P,d(a.job.organization),1),e("div",H,[(s(!0),c(y,null,j(a.job.locations,(o,i)=>(s(),c("span",{key:o},[J(d(o)+" ",1),i!==k(n)-1?(s(),c("span",U,",Â ")):$("",!0)]))),128))])],512)]),_:1},8,["to"])}}});const K=D(G,[["__scopeId","data-v-ba8c3c5b"]]),Q={class:"w-full bg-white sticky top-0 left-0 z-10 p-4 border-b-2"},M=e("span",{class:"mr-5"},"Back to jobs search",-1),C=x({__name:"ToJobsPageLink",setup(a){const u=I(),{skillSearchTerm:l,locationSearchTerm:n}=R(u);return(_,t)=>{const p=S("font-awesome-icon"),b=S("router-link");return s(),c("div",Q,[h(b,{to:{name:"JobResults",query:{role:k(l),location:k(n)}}},{default:m(()=>[h(p,{icon:["fas","arrow-left"],class:"mr-5"}),M]),_:1},8,["to"])])}}}),W={class:"text-brand-blue-1 ml-2 font-bold"},X=x({__name:"JobRelatedSidebar",props:{jobs:{type:Array,required:!0},job:{type:Object,required:!0}},setup(a){const u=a,{job:l}=N(u),n=v(null),_=w(),t=V(()=>_.params.id),p=q(),{mainNavHeight:b}=R(p);return B(()=>{var r,o,i;if((r=n.value)!=null&&r.$el){const g=document.getElementById(t.value),T=((o=n.value)==null?void 0:o.$el.offsetTop)||0,L=(g==null?void 0:g.offsetTop)||0;(i=n.value)==null||i.$el.scroll({top:L-T-80+b.value,left:0,behavior:"smooth"})}}),(r,o)=>(s(),f(O,{class:"overflow-y-scroll",ref_key:"jobRelatedSideBarLayoutRef",ref:n},{default:m(()=>[h(C,{class:"translate-y-[-20px]"}),e("div",null,[e("div",null,[J(" Other jobs of "),e("span",W,d(k(l).organization)+" ("+d(a.jobs.length)+")",1)]),(s(!0),c(y,null,j(a.jobs,i=>(s(),f(K,{job:i,key:i.id,id:i.id},null,8,["job","id"]))),128))])]),_:1},512))}}),Y={class:"flex flex-col lg:flex-row flex-no-wrap w-full"},Z={class:"px-8 py-4"},ee=e("h3",{class:"mt-1 mb-2"},"Descriptions:",-1),te={class:"list-disc pl-8"},oe={class:"px-8 py-4"},se=e("h3",{class:"mt-1 mb-2"},"preferredQualifications:",-1),ae={class:"list-disc pl-8"},le={class:"px-8 py-4"},ne=e("h3",{class:"mt-1 mb-2"},"dateAdded:",-1),re={class:"list-disc pl-8"},_e=x({__name:"JobView",setup(a){const u=E(),{ALL_JOBS:l}=R(u),{FETCH_JOBS:n}=u,_=v([]),t=v(void 0),p=w();return B(async()=>{let b=+p.params.id;l.value.length===0&&await n(),t.value=l.value.find(r=>r.id===b),_.value=l.value.filter(r=>{var o;return r.organization===((o=t==null?void 0:t.value)==null?void 0:o.organization)})}),(b,r)=>(s(),c("div",Y,[h(C,{class:"p-5 lg:hidden"}),t.value?(s(),f(X,{key:0,class:"hidden lg:block",jobs:_.value,job:t.value},null,8,["jobs","job"])):$("",!0),h(z,null,{content:m(()=>[t.value?(s(),f(A,{job:t.value,key:t.value.id,element:"div"},{others:m(()=>[e("div",Z,[ee,e("ul",te,[(s(!0),c(y,null,j(t.value.description,o=>(s(),c("li",{key:o},d(o),1))),128))])]),e("div",oe,[se,e("ul",ae,[(s(!0),c(y,null,j(t.value.preferredQualifications,o=>(s(),c("li",{key:o},d(o),1))),128))])]),e("div",le,[ne,e("ul",re,[e("li",null,d(t.value.dateAdded),1)])])]),_:1},8,["job"])):$("",!0)]),_:1})]))}});export{_e as default};
